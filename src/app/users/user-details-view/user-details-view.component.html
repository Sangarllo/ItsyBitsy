<mat-card *ngIf="userDetails">

    <mat-toolbar color="primary">
        <span>{{pageTitle}}</span>
        <span class="fill-remaining-space"></span>
        <button mat-raised-button color="accent" (click)="gotoDashboard()">Ir al Panel</button>
    </mat-toolbar>

    <br/><br/>

    <mat-card-content class="container">

        <div class="row">
            <div class="col-lg-4 col-md6 col-12">
                <mat-card-header>

                    <mat-card-title class="alert alert-primary text-center" role="alert">
                        {{ userDetails.displayName }}
                    </mat-card-title>

                    <mat-card-subtitle>
                        <!--
                        <mat-chip-list aria-label="Roles">
                            <mat-chip *ngIf="userDetails.isUser">Registrado</mat-chip>
                            <mat-chip *ngIf="userDetails.isAdmin">Administrador</mat-chip>
                            <mat-chip *ngIf="userDetails.isTeacher">Profesor</mat-chip>
                            <mat-chip *ngIf="userDetails.isStudent">Estudiante</mat-chip>
                        </mat-chip-list>
                        -->
                    </mat-card-subtitle>
                </mat-card-header>

                <img [src]="userDetails.photoURL" class="mx-auto img-fluid img-circle d-block mt-3 mb-3 img-thumbnail" alt="avatar">

                <mat-card-actions class="text-center">
                    <button mat-mini-fab color="warn" [disabled]="!canAdmin" (click)="gotoEdition()"><mat-icon>edit</mat-icon></button>
                </mat-card-actions>

            </div>

            <div class="col-lg-8 col-md-6 col-12">
                <mat-card-content>
                    <mat-tab-group>

                        <!-- A. Datos Personales -->
                        <mat-tab class="tab-data-detail" label="Datos Personales">

                            <mat-form-field class="data-detail">
                                <input matInput type="text" disabled="true" [value]="userDetails.displayName" placeholder="Nombre Completo" />
                                <mat-icon matSuffix>assignment_ind</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail">
                                <input matInput type="text" disabled="true" [value]="userDetails.nickName" placeholder="Nombre Corto" />
                                <mat-icon matSuffix>face</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.birthday">
                                <input matInput type="text" disabled="true" [value]="userDetails.birthday  | date:'fullDate'" placeholder="Cumpleaños" />
                                <mat-icon matSuffix>cake</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.location">
                                <input matInput type="text" disabled="true" [value]="userDetails.location" placeholder="Localidad" />
                                <mat-icon matSuffix>location_city</mat-icon>
                            </mat-form-field>

                        </mat-tab>


                        <!-- B. Datos de Contacto -->
                        <mat-tab label="Datos de Contacto">

                            <mat-form-field class="data-detail" *ngIf="userDetails.contactPerson">
                                <input matInput type="text" disabled="true" [value]="userDetails.contactPerson" placeholder="Persona de Contacto" />
                                <mat-icon matSuffix>supervised_user_circle</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.contactPersonNif">
                                <input matInput type="text" disabled="true" [value]="userDetails.contactPersonNif" placeholder="NIF Persona de Contacto" />
                                <mat-icon matSuffix>assignment_ind</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.telephone">
                                <input matInput type="text" disabled="true" [value]="userDetails.telephone" placeholder="Teléfono" />
                                <mat-icon matSuffix>phone</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.address">
                                <input matInput type="text" disabled="true" [value]="userDetails.address" placeholder="Dirección" />
                                <mat-icon matSuffix>home</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail">
                                <input matInput type="text" disabled="true" [value]="userDetails.email" placeholder="Email" />
                                <mat-icon matSuffix>email</mat-icon>
                            </mat-form-field>

                        </mat-tab>

                        <!-- C. Datos de Facturación -->
                        <mat-tab label="Datos de Facturación" [disabled]="!canAdmin">

                            <mat-form-field class="data-detail" *ngIf="rateName">
                                <input matInput type="text" disabled="true" [value]="rateName" placeholder="Tarifa" />
                                <mat-icon matSuffix>local_offer</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.paymentMethod">
                                <input matInput type="text" disabled="true" [value]="userDetails.paymentMethod" placeholder="Modo de Pago" />
                                <mat-icon matSuffix>payment</mat-icon>
                            </mat-form-field>

                        </mat-tab>


                        <!-- D. Roles del Usuario -->
                        <mat-tab label="Roles del Usuario">

                            <mat-form-field class="data-detail" *ngIf="userDetails.isAdmin">
                                <input matInput type="text" disabled="true" [value]="(userDetails.isAdmin) ? 'SÍ': 'NO'" placeholder="Es Administrador" />
                                <mat-icon matSuffix>face</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.isStudent">
                                <input matInput type="text" disabled="true" [value]="(userDetails.isStudent) ? 'SÍ': 'NO'" placeholder="Es Estudiante" />
                                <mat-icon matSuffix>face</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.isTeacher">
                                <input matInput type="text" disabled="true" [value]="(userDetails.isTeacher) ? 'SÍ': 'NO'" placeholder="Es Profesor" />
                                <mat-icon matSuffix>local_library</mat-icon>
                            </mat-form-field>

                            <mat-form-field class="data-detail" *ngIf="userDetails.isTeacher">
                                <input matInput type="text" disabled="true" [value]="(userDetails.isTeacher) ? 'SÍ': 'NO'" placeholder="Es Profesor" />
                                <mat-icon matSuffix>local_library</mat-icon>
                            </mat-form-field>

                        </mat-tab>


                    </mat-tab-group>
                </mat-card-content>
            </div>
        </div>

    </mat-card-content>
</mat-card>